<!DOCTYPE html>
<html lang="{{ .Site.Language.Lang }}">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>{{ block "title" . }}{{ .Site.Title }}{{ end }}</title>
  {{ partial "head.html" . }}
</head>
<body>
  <header>
    <nav class="top-nav">
      <a href="{{ .Site.BaseURL }}" class="nav-home">Home</a>

      <!-- Dropdown -->
      <div class="lang-dropdown">
        <button class="lang-btn" onclick="toggleLangMenu()">
          {{ .Site.Language.LanguageName }}
          {{ if eq .Site.Language.Lang "fa" }} ğŸ‡®ğŸ‡· {{ end }}
          {{ if eq .Site.Language.Lang "en" }} ğŸ‡¬ğŸ‡§ {{ end }}
          {{ if eq .Site.Language.Lang "de" }} ğŸ‡©ğŸ‡ª {{ end }}

          <!-- ÙÙ„Ø´ SVG -->
          <svg class="arrow-icon" xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <polyline points="6 9 12 15 18 9"></polyline>
          </svg>
        </button>
        <div id="langMenu" class="lang-menu">
          {{ range .Site.Languages }}
            {{ if ne .Lang $.Site.Language.Lang }}
              <a href="{{ .Lang | relURL }}">
                {{ .LanguageName }}
                {{ if eq .Lang "fa" }} ğŸ‡®ğŸ‡· {{ end }}
                {{ if eq .Lang "en" }} ğŸ‡¬ğŸ‡§ {{ end }}
                {{ if eq .Lang "de" }} ğŸ‡©ğŸ‡ª {{ end }}
              </a>
            {{ end }}
          {{ end }}
        </div>
      </div>
    </nav>
  </header>

  <main class="content">
    {{ block "main" . }}{{ end }}
  </main>

  <footer class="footer">
    Â© {{ now.Year }} {{ .Site.Title }} â€” Ø³Ø§Ø®ØªÙ‡ Ø´Ø¯Ù‡ ØªÙˆØ³Ø· Ù…ØµØ·ÙÛŒ Ø­ÛŒØ¯Ø±ÛŒ
  </footer>

  <style>
    body {
      background:#0d1117;
      color:#ffffff;  /* Ø³ÙÛŒØ¯ Ø®Ø§Ù„Øµ Ø¨Ø±Ø§ÛŒ Ø±ÙØ¹ ØªØ§Ø± Ø¨ÙˆØ¯Ù† */
      font-family: "Vazir", sans-serif;
      font-weight: 400;
      margin:0;
      line-height: 1.8;
    }

    /* Ù…Ù†Ùˆ Ø¨Ø§Ù„Ø§ÛŒ ØµÙØ­Ù‡ */
    .top-nav {
      display:flex;
      justify-content:flex-start;
      align-items:center;
      gap:20px;
      padding:15px 25px;
      background:#161b22;
      border-bottom:1px solid #222;
      position:fixed;
      top:0;
      left:0;
      right:0;
      z-index:1000;
    }

    .nav-home {
      color:#fff;
      text-decoration:none;
      font-weight:bold;
    }

    .lang-dropdown {
      position: relative;
    }

    .lang-btn {
      background: transparent;
      border: none;
      color: #f1f1f1;
      font-size: 15px;
      cursor: pointer;
      display: flex;
      align-items: center;
      gap: 5px;
    }

    .arrow-icon {
      transition: transform 0.3s ease;
    }

    .lang-btn:hover .arrow-icon {
      transform: rotate(180deg);
    }

    .lang-menu {
      display: none;
      position: absolute;
      background: #1a2233;
      border: 1px solid #333;
      border-radius: 6px;
      margin-top: 6px;
      min-width: 160px;
      z-index: 10;
    }

    .lang-menu a {
      display: block;
      padding: 10px 14px;
      color: #f1f1f1;
      text-decoration: none;
      font-size: 14px;
    }

    .lang-menu a:hover {
      background: #2a3244;
    }

    .lang-menu.show {
      display: block;
    }

    /* ÙØ§ØµÙ„Ù‡ Ù…Ø­ØªÙˆØ§ Ø§Ø² Ù…Ù†ÙˆÛŒ Ø¨Ø§Ù„Ø§ÛŒÛŒ */
    .content {
      padding: 100px 30px 30px 30px;
    }

    .footer {
      text-align:center;
      margin:30px 0;
      color:#bbb;
    }
  </style>

  <script>
    function toggleLangMenu() {
      document.getElementById("langMenu").classList.toggle("show");
    }

    window.addEventListener("click", function(event) {
      if (!event.target.closest('.lang-dropdown')) {
        let dropdowns = document.getElementsByClassName("lang-menu");
        for (let i = 0; i < dropdowns.length; i++) {
          dropdowns[i].classList.remove("show");
        }
      }
    });
  </script>
</body>
</html>
