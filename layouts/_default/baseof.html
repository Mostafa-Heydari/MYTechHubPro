<!DOCTYPE html>
<html lang="{{ .Site.Language.Lang }}" dir="{{ if eq .Site.Language.Lang "fa" }}rtl{{ else }}ltr{{ end }}">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>{{ block "title" . }}{{ .Title }} | {{ .Site.Title }}{{ end }}</title>
  {{ partial "head.html" . }}
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
</head>
<body class="bg-gray-900 text-gray-100 leading-relaxed">

  <!-- Header -->
  <header class="flex items-center justify-between p-6 bg-gray-800 shadow-md">
    <div class="text-2xl font-extrabold text-white">
      {{ .Site.Title }}
    </div>
    
    <!-- Language Switcher -->
    <nav>
      <div class="relative inline-block text-left">
        <button class="inline-flex items-center px-3 py-2 text-sm font-medium text-white bg-gray-700 rounded-lg hover:bg-gray-600 focus:outline-none">
          <img src="/flags/{{ .Site.Language.Lang }}.svg" alt="{{ .Site.Language.LanguageName }}" class="w-5 h-5 ml-2">
          {{ .Site.Language.LanguageName }}
          <svg class="w-4 h-4 ml-1" fill="currentColor" viewBox="0 0 20 20">
            <path fill-rule="evenodd" d="M5.23 7.21a.75.75 0 011.06.02L10 10.94l3.71-3.71a.75.75 0 111.06 1.06l-4.24 4.25a.75.75 0 01-1.06 0L5.23 8.27a.75.75 0 01.02-1.06z" clip-rule="evenodd" />
          </svg>
        </button>
        <div class="absolute hidden mt-2 w-36 rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5 group-hover:block">
          {{ range .Site.Languages }}
            {{ if ne .Lang $.Site.Language.Lang }}
              <a href="{{ .Lang | relLangURL }}" class="flex items-center px-3 py-2 text-sm text-gray-700 hover:bg-gray-100">
                <img src="/flags/{{ .Lang }}.svg" alt="{{ .LanguageName }}" class="w-5 h-5 ml-2">
                {{ .LanguageName }}
              </a>
            {{ end }}
          {{ end }}
        </div>
      </div>
    </nav>
  </header>

  <!-- Main Content -->
  <main class="container mx-auto p-6">
    {{ block "main" . }}{{ end }}
  </main>

  <!-- Footer -->
  <footer class="text-center text-gray-400 py-6 border-t border-gray-700">
    ساخته شده توسط مصطفی حیدری — © TechHub 2025
  </footer>
</body>
</html>
